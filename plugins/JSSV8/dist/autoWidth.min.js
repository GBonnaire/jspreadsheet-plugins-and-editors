var jspreadsheet;jspreadsheet||"function"!=typeof require||(jspreadsheet=require("jspreadsheet")),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.jss_autoWidth=t()}(this,function(){return function(e,t,o){if(parseInt(jspreadsheet.version().version.split(".")[0])<8)return console.error('Plugin "auto Width" not compatible with jspreadsheet '+jspreadsheet.version().version+", Please use an older version of this plugin compatible. Go to https://github.com/GBonnaire/jspreadsheet-plugins-and-editors/"),{};var a={};a.options=Object.assign({},t);var n,i="",u=[],s={fullsizeTable:!1};for(n in null==a.options&&(a.options={}),s)a.options.hasOwnProperty(n)&&null!=a.options[n]||(a.options[n]=s[n]);a.onevent=function(e,t){"onresizecolumn"==e&&r(t)},a.beforeinit=function(e){u=[];for(var t=0;t<e.options.columns.length;t++){var o=e.options.columns[t];null!=o.width&&""!=o.width&&"auto"!=o.width||(u.push(t),e.options.columns[t].width=100)}},a.init=function(e){r(e)};var r=function(e){i=e.table.style.cssText,e.table.style.tableLayout="auto";var t=function(e){var t=[],o=e.rows[0].element;if(o)for(var n,i=0;i<o.children.length;i++)0!=i&&(n=o.children[i],t.push(n.offsetWidth));return t}(e);e.table.style.cssText=i,function(e,t){var o=t.options.editable;t.options.editable=!0,function(e){null==d.ignoreEvents&&(d.ignoreEvents=e.ignoreEvents);e.ignoreEvents=!0,null==d.ignoreCloud&&(d.ignoreCloud=e.ignoreCloud);null==d.ignoreHistory&&(d.ignoreHistory=e.ignoreHistory);e.ignoreHistory=!0,null==d.ignorePersistence&&(d.ignorePersistence=e.ignorePersistence);e.ignorePersistence=!0}(t.parent),null==t.options.defaultColWidth||""==t.options.defaultColWidth||"auto"==t.options.defaultColWidth?t.options.defaultColWidth=50:"string"==typeof t.options.defaultColWidth&&(t.options.defaultColWidth=parseInt(t.options.defaultColWidth));var n=0,i=0;if(a.options.fullsizeTable){n=t.table.parentNode.parentNode.offsetWidth-50-5,i=e.reduce(function(e,t){return e+t});for(var s=0;s<t.options.columns.length;s++)"hidden"!=(r=t.options.columns[s]).type&&(-1==u.indexOf(s)?(n=Math.max(0,n-parseFloat(r.width)),i=Math.max(0,i-e[s])):e[s]<100&&(i=Math.max(0,i+(100-e[s]))))}n-=7;for(s=0;s<t.options.columns.length;s++){var r,l;"hidden"!=(r=t.options.columns[s]).type&&-1<u.indexOf(s)&&(l=e[s]?Math.max(t.options.defaultColWidth,e[s]):t.options.defaultColWidth,a.options.fullsizeTable&&i<n&&(l=l/i*n),t.setWidth(s,l))}(function(e){e.ignoreEvents=d.ignoreEvents,e.ignoreHistory=d.ignoreHistory,e.ignorePersistence=d.ignorePersistence,d={}})(t.parent),t.options.editable=o}(t,e)};var d={};return a}});