!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.jss_syncInput=e()}(this,function(){return function(d,n){var l={};l.options=Object.assign({},n);var e,o={inputElement:null,inputId:null,checkRow:null,fieldsRequired:[],processedValues:!0};for(e in null==l.options&&(l.options={}),o)l.options.hasOwnProperty(e)&&null!=l.options[e]||(l.options[e]=o[e]);function t(){l.options.inputId||!function n(e){d.el.id?l.options.inputId=d.el.id+"_DATA"+e:l.options.inputId="JEXCEL_DATA"+e;document.getElementById(l.options.inputId)&&(""==e&&(e=0),n(parseInt(e)+1))}();var n=l.options.inputId,e=document.createElement("input");e.id=n,e.name=n,e.type="hidden",d.el.append(e),l.options.inputElement=e}return l.onevent=function(n){"onload"==n&&function(){{var n;l.options.inputElement||(l.options.inputId&&(n=document.getElementById(l.options.inputId))?l.options.inputElement=n:t())}for(var e=0;e<l.options.fieldsRequired.length;e++){var o=l.options.fieldsRequired[e];parseInt(o)+""!=o+""||(o=d.options.columns[parseInt(o)].name)&&(l.options.fieldsRequired[e]=o)}}(),"onload"!=n&&"onchange"!=n||function(){var n=d.getJson(!1,l.options.processedValues);if(1==n.length){var e,o=!0;for(e in n[0])if(n[0][e]){o=!1;break}o&&(n=[[]])}var t=[];for(e=0;e<n.length;e++){for(var i=n[e],p=!0,s=0;s<l.options.fieldsRequired.length;s++){var u=l.options.fieldsRequired[s];if(null==i[u]||""==i[u]){p=!1;break}}(p=p&&("function"==typeof l.options.checkRow?l.options.checkRow(i,d,e):p))&&t.push(i)}l.options.inputElement.value=JSON.stringify(t)}()},l}}),window.jexcel_syncInput=jss_syncInput;